nvme-hgst-cap-diag(1)
=====================

NAME
----
nvme-hgst-cap-diag - Retrieve HGST device's diagnostic log and save to file.

SYNOPSIS
--------
[verse]
'nvme hgst cap-diag' <device> [--file=<FILE>, -f <FILE>]

DESCRIPTION
-----------

For the NVMe device given, sends the HGST Vendor Unique Capture-Diagnostics
request and saves the result to a compressed archive file. The NVMe device
must refer to a single physical device (namespaces are not supported).
By default it will save the compressed archive in the current directory
of the program being executed. In absence of pathname it will create a file
with Serial Number of the given NVMe device.

This will only work on HGST devices supporting this feature.
Results for any other device are undefined.

The <device> parameter is NVMe character device (ex: /dev/nvme0) and
it is mandatory.

On success it returns 0, error code otherwise.

OPTIONS
-------
-f <FILE>::
--file=<FILE>::
    Output file; defaults to device name provided


EXAMPLES
--------
* Has the program issue HGST cap-diag Vendor Unique Command without pathname:
+
------------
# nvme hgst cap-diag /dev/nvme0
------------

* Has the program issue HGST Capture-diagnostics Command with pathname:
+
------------
# nvme hgst cap-diag /dev/nvme0 -f /tmp/test
------------

NVME
----
Part of the nvme-user suite.
